(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,a,t){e.exports=t(367)},198:function(e,a,t){},366:function(e,a,t){},367:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(9),o=t.n(s),i=(t(198),t(35)),c=t(22),l=t(38),u=t(36),p=t(37),m=t(174),d=t(425),h=t(421),g=t(45),f=t(61),v=t.n(f),y=(t(199),t(7)),E=t.n(y),b=t(15),w=t(201),D="ffinlife_site",x="1q3wr2",C="Basic a2FzcGk6a2FzcGk=";function k(){fetch("/ws",{method:"post",headers:{"Content-Type":"text/xml",Authorization:C},body:'<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="http://ffinlife/ws"><soapenv:Header/><soapenv:Body><ws:authorizationWSRequest><ws:login>'+D+"</ws:login><ws:password>"+x+"</ws:password></ws:authorizationWSRequest></soapenv:Body></soapenv:Envelope>"}).then(function(){var e=Object(b.a)(E.a.mark(function e(a){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(a);case 2:t=e.sent,n=t.getElementsByTagName("ns2:sessionId")[0].value,sessionStorage.setItem("sessionId",n);case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())}function S(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(E.a.mark(function e(a){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t='<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="http://ffinlife/ws"><soapenv:Header/><soapenv:Body>'+a+"</soapenv:Body></soapenv:Envelope>",e.abrupt("return",fetch("/ws",{method:"post",headers:{"Content-Type":"text/xml",Authorization:C},body:t}).then(function(){var e=Object(b.a)(E.a.mark(function e(a){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(E.a.mark(function e(a){var t,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.text();case 2:return t=e.sent,n=t.substring(t.indexOf("<SOAP"),t.indexOf("</SOAP-ENV:Envelope>")+20),r=(new w).parseFromString(n),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j=t(66),B=t(87),M=t(32),Y=t(56),F=t(182),I=t(414),L=t(369),T=t(415),R=t(416),G=t(417),_=t(418),K=t(427),V=t(433),z=t(424),q=t(428),A=t(115),W=t.n(A),U=t(116),J=t.n(U),H=t(181);function Z(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(b.a)(E.a.mark(function e(a){var t,n,r,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="<ws:cabCountryRequest><ws:sessionId>"+a+"</ws:sessionId></ws:cabCountryRequest>",e.next=3,S(t,a);case 3:return n=e.sent,r=n.getElementsByTagName("ns2:countries"),s=r.map(function(e){var a=e.getElementsByTagName("ns2:codeOfCountry"),t=e.getElementsByTagName("ns2:nameOfCountry"),n=e.getElementsByTagName("ns2:territoryCountry");return{code:a[0]&&a[0].value,name:t[0]&&t[0].value,territory:n[0]&&n[0].value}}),e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $(e,a){return X.apply(this,arguments)}function X(){return(X=Object(b.a)(E.a.mark(function e(a,t){var n,r,s,o,i,c,l,u,p,m,d,h,g,f,v,y,b,w,D,x,C,k,O,P,N,j,B,M;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.country1,r=t.country2,s=t.country3,o=t.rprogSrok,i=t.email,c=t.rprogramm,l=t.progMaxDays,u=t.dateStart,p=t.dateEnd,m=t.curRate,t.fioKir,t.fioLat,d=t.iin,h=t.resId,g=t.address,f=t.sex,v=t.dateBirth,y=t.region,t.fioKir2,t.fioLat2,t.iin2,t.resId2,t.address2,t.sex2,t.dateBirth2,t.region2,b=t.passportNum,w=t.passportGive,D=t.passportDate,x=t.passportDateEnd,C=t.doc_type,t.passportNum2,t.passportGive2,t.passportDate2,t.passportDateEnd2,k=t.mobilePhone,O=t.phone,t.mobilePhone2,t.phone2,t.email2,P=t.name,N=t.surname,j="<ws:registrationFreedomTravelRequest><ws:sessionId>"+a+"</ws:sessionId><ws:country1>"+n+"</ws:country1><ws:country2>"+r+"</ws:country2><ws:country3>"+s+"</ws:country3><ws:rprogramm>"+c+"</ws:rprogramm><ws:rprogSrok>"+o+"</ws:rprogSrok><ws:progMaxDays>"+l+"</ws:progMaxDays><ws:dateStart>"+u+"</ws:dateStart><ws:dateEnd>"+p+"</ws:dateEnd><ws:curRate>"+m+"</ws:curRate><ws:fioKir>"+N+" "+P+"</ws:fioKir><ws:fioLat>"+N+" "+P+"</ws:fioLat><ws:inn>"+d+"</ws:inn><ws:resId>"+h+"</ws:resId><ws:address>"+g+"</ws:address><ws:sex>"+f+"</ws:sex><ws:dateBirth>"+v+"</ws:dateBirth><ws:region>"+y+"</ws:region><ws:fioKir2>"+N+" "+P+"</ws:fioKir2><ws:fioLat2>"+N+" "+P+"</ws:fioLat2><ws:iin2>"+d+"</ws:iin2><ws:resId2>"+h+"</ws:resId2><ws:address2>"+g+"</ws:address2><ws:sex2>"+f+"</ws:sex2><ws:dateBirth2>"+v+"</ws:dateBirth2><ws:region2>"+y+"</ws:region2><ws:passportNum>"+b+"</ws:passportNum><ws:passportGive>"+w+"</ws:passportGive><ws:passportDate>"+D+"</ws:passportDate><ws:passportDateEnd>"+x+"</ws:passportDateEnd><ws:doc_type>"+C+"</ws:doc_type><ws:passportNum2>"+b+"</ws:passportNum2><ws:passportGive2>"+w+"</ws:passportGive2><ws:passportDate2>"+D+"</ws:passportDate2><ws:passportDateEnd2>"+x+"</ws:passportDateEnd2><ws:mobilePhone>"+k+"</ws:mobilePhone><ws:phone>"+O+"</ws:phone><ws:email>"+i+"</ws:email><ws:mobilePhone2>"+k+"</ws:mobilePhone2><ws:phone2>"+O+"</ws:phone2><ws:email2>"+i+"</ws:email2></ws:registrationFreedomTravelRequest>",e.next=4,S(j);case 4:return B=e.sent,console.log("regbody : "+j),console.log("xml :",B),M=B.getElementsByTagName("ns2:message"),e.abrupt("return",M[0]&&M[0].value);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e,a){return ae.apply(this,arguments)}function ae(){return(ae=Object(b.a)(E.a.mark(function e(a,t){var n,r,s,o,i,c,l,u,p,m,d,h,g,f;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.country1,r=t.country2,s=t.country3,o=t.sumStrah,i=t.insuranceProgramm,c=t.beginDate,l=t.endDate,u=t.birthDate,p=t.rprogSrok,m=t.rprogMaxDays,d=t.email,h="<ws:calculatorFreedomTravelRequest><ws:sessionId>"+a+"</ws:sessionId><ws:country1>"+n+"</ws:country1><ws:country2>"+r+"</ws:country2><ws:country3>"+s+"</ws:country3><ws:sumStrah>"+o+"</ws:sumStrah><ws:insuranceProgramm>"+i+"</ws:insuranceProgramm><ws:beginDate>"+c+"</ws:beginDate><ws:endDate>"+l+"</ws:endDate><ws:birthDate>"+u+"</ws:birthDate><ws:rprogSrok>"+p+"</ws:rprogSrok><ws:rprogMaxDays>"+m+"</ws:rprogMaxDays><ws:email>"+d+"</ws:email></ws:calculatorFreedomTravelRequest>",e.next=4,S(h);case 4:return g=e.sent,f=g.getElementsByTagName("ns2:premKz"),console.log("body : "+h),console.log("xml :",g),e.abrupt("return",f[0]&&f[0].value);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"1",label:"\u0434\u043e 6 \u043c\u0435\u0441\u044f\u0446\u0435\u0432"},{value:"2",label:"\u043e\u0442 6 \u0434\u043e 9 \u043c\u0435\u0441\u044f\u0446\u0435\u0432"},{value:"3",label:"\u043e\u0442 9 \u0434\u043e 12 \u043c\u0435\u0441\u044f\u0446\u0435\u0432"}]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(){return se.apply(this,arguments)}function se(){return(se=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"1",label:"\u0434\u043e 30 \u0434\u043d\u0435\u0439"},{value:"2",label:"\u0434\u043e 60 \u0434\u043d\u0435\u0439"},{value:"3",label:"\u0434\u043e 90 \u0434\u043d\u0435\u0439"},{value:"4",label:"\u0434\u043e 180 \u0434\u043d\u0435\u0439"}]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(){return ie.apply(this,arguments)}function ie(){return(ie=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"10000",label:"10\xa0000 \u0415\u0432\u0440\u043e"},{value:"20000",label:"20\xa0000 \u0415\u0432\u0440\u043e"},{value:"30000",label:"30\xa0000 \u0415\u0432\u0440\u043e"},{value:"50000",label:"50\xa0000 \u0415\u0432\u0440\u043e"},{value:"70000",label:"70\xa0000 \u0415\u0432\u0440\u043e"},{value:"100000",label:"100\xa0000 \u0415\u0432\u0440\u043e"}]);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}t(202);var ce=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(l.a)(this,Object(u.a)(a).call(this,e))).maxSelectCountry=3,t.onDataChange=function(e){var a=e.target.name,n=e.target.value;t.setState({data:Object(Y.a)({},t.state.data,Object(M.a)({},a,n))})},t.onFieldChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(M.a)({},a,n))},t.onDataChangeByName=function(e){return function(a){t.onDataChange({target:{name:e,value:a}})}},t.onBirthDateChange=t.onDataChangeByName("birthDate"),t.onBeginDateChange=t.onDataChangeByName("beginDate"),t.onEndDateChange=t.onDataChangeByName("endDate"),t.getParsedDataToBackend=function(e){var a=t.state.selectedCountries,n=e.beginDate,r=e.endDate,s=e.birthDate,o=e.country1,i=e.country2,c=e.country3,l=Object(B.a)(e,["beginDate","endDate","birthDate","country1","country2","country3"]);return n=n.format("DD.MM.YYYY"),r=r.format("DD.MM.YYYY"),s=s.format("DD.MM.YYYY"),o=a.length>=1&&a[0].value||"",i=a.length>=2&&a[1].value||"",c=a.length>=3&&a[2].value||"",Object(Y.a)({},l,{beginDate:n,endDate:r,birthDate:s,country1:o,country2:i,country3:c})},t.calculate=Object(b.a)(E.a.mark(function e(){var a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sessionId"),n=t.getParsedDataToBackend(t.state.data),e.next=4,ee(a,n);case 4:r=e.sent,t.setState({insurancePremium:r});case 6:case"end":return e.stop()}},e)})),t.onAddCountry=function(){var e=t.state.selectedCountries;e.length<t.maxSelectCountry&&t.setState({selectedCountries:[].concat(Object(j.a)(e),[""])})},t.onDeleteCountry=function(e){var a=Object(j.a)(t.state.selectedCountries);a.length>1&&(a.splice(e,1),t.setState({selectedCountries:a}))},t.onSelectCountry=function(e,a){var n=Object(j.a)(t.state.selectedCountries);n[e]=Object(Y.a)({},a),t.setState({selectedCountries:n})},t.onMultiVisitChange=function(e){t.setState({isMultiVisit:!t.state.isMultiVisit})},t.onFinish=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.props.onFinish(t.state);case 1:case"end":return e.stop()}},e)})),t.state={data:{country1:"",country2:"",country3:"",sumStrah:"",insuranceProgramm:1,beginDate:null,endDate:null,birthDate:null,rprogSrok:"",rprogMaxDays:"",email:""},insurancePremium:"",selectedCountries:[""],showCountrySelectCount:1,isMultiVisit:!1,insuredSumList:[],travelDurationList:[],abroadDaysList:[],countries:[]},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getFilters()}},{key:"getFilters",value:function(){var e=Object(b.a)(E.a.mark(function e(){var a,t,n,r,s,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:return a=e.sent,e.next=5,te();case 5:return t=e.sent,e.next=8,re();case 8:return n=e.sent,r=sessionStorage.getItem("sessionId"),e.next=12,Z(r);case 12:s=e.sent,o=s?s.map(function(e){return{value:e.code,label:e.name}}):[],this.setState({countries:o,insuredSumList:a,travelDurationList:t,abroadDaysList:n});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.data,s=t.sumStrah,o=(t.insuranceProgramm,t.beginDate),i=t.endDate,c=t.birthDate,l=t.rprogSrok,u=t.rprogMaxDays,p=(t.email,a.selectedCountries),m=a.abroadDaysList,d=a.insuredSumList,h=a.travelDurationList,f=a.insurancePremium,v=a.isMultiVisit,y=a.countries;return r.a.createElement(F.a,{className:"calculator-page"},r.a.createElement("h2",{className:"page-title"},"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0443\u044e \u043f\u0440\u0435\u043c\u0438\u044e"),r.a.createElement(I.a,{container:!0,justify:"space-around",spacing:2},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(I.a,{container:!0,spacing:2},r.a.createElement(I.a,{item:!0,sm:7,xs:12},r.a.createElement(I.a,{container:!0,spacing:2},p&&p.map(function(a,t){return r.a.createElement(I.a,{item:!0,key:t,xs:12},r.a.createElement(H.a,{className:"react-select",value:a,options:y,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",onChange:function(a){return e.onSelectCountry(t,a)}}),p.length>1&&r.a.createElement(L.a,{onMouseDown:function(){return e.onDeleteCountry(t)}},r.a.createElement(W.a,null)))}))),r.a.createElement(I.a,{item:!0,sm:5,xs:12},r.a.createElement(T.a,{variant:"contained",color:"secondary",onMouseDown:this.onAddCountry,disabled:p.length===this.maxSelectCountry},r.a.createElement(J.a,null),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0443")))),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(R.a,{control:r.a.createElement(G.a,{value:v,onChange:this.onMultiVisitChange}),label:"\u041c\u043d\u043e\u0433\u043e\u043a\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430"})),v&&r.a.createElement(n.Fragment,null,r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(_.a,{className:"form-control"},r.a.createElement("label",{htmlFor:"travel-duration",className:"form-label"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f"),r.a.createElement(K.a,{onChange:this.onDataChange,value:l,inputProps:{name:"rprogSrok",id:"travel-duration"}},h&&h.map(function(e){return r.a.createElement(V.a,{key:e.value,value:e.value},e.label)})))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(_.a,{className:"form-control"},r.a.createElement("label",{htmlFor:"abroad-days",className:"form-label"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439 \u0437\u0430 \u0433\u0440\u0430\u043d\u0438\u0446\u0435\u0439"),r.a.createElement(K.a,{onChange:this.onDataChange,value:u,inputProps:{name:"rprogMaxDays",id:"abroad-days"}},m&&m.map(function(e){return r.a.createElement(V.a,{key:e.value,value:e.value},e.label)}))))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{disablePast:!0,format:"DD.MM.YYYY",label:"\u041a\u043e\u0433\u0434\u0430 \u0443\u0435\u0437\u0436\u0430\u0435\u0442\u0435?",value:o,onChange:this.onBeginDateChange})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{disablePast:!0,minDate:o,format:"DD.MM.YYYY",label:"\u041a\u043e\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0435\u0441\u044c?",value:i,onChange:this.onEndDateChange})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(_.a,{className:"form-control"},r.a.createElement(z.a,{htmlFor:"insured-sum"},"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u0441\u0443\u043c\u043c\u0430"),r.a.createElement(K.a,{onChange:this.onDataChange,value:s,inputProps:{name:"sumStrah",id:"insured-sum"}},d&&d.map(function(e){return r.a.createElement(V.a,{key:e.value,value:e.value},e.label)})))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{disableFuture:!0,openTo:"year",format:"DD.MM.YYYY",views:["year","month","date"],label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",value:c,onChange:this.onBirthDateChange})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(I.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(I.a,{item:!0},r.a.createElement(T.a,{variant:"contained",color:"secondary",onClick:this.calculate},"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c")),r.a.createElement(I.a,{item:!0},r.a.createElement(q.a,{InputLabelProps:{shrink:!0},label:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043f\u0440\u0435\u043c\u0438\u044f",value:f,InputProps:{readOnly:!0}})))),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:this.onFinish},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441"))))}}]),a}(r.a.Component),le=t(374),ue=t(432),pe=t(429),me=t(430),de=t(117),he=t.n(de),ge=(t(368),function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(l.a)(this,Object(u.a)(a).call(this,e))).validate=function(){var e=t.state,a=e.agreement,n=e.agreement2,r=e.name,s=e.surname,o=a&&n&&r&&s;return t.setState({isValid:o}),o},t.onSelectFiles=function(e){t.setState({files:e})},t.onFieldChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(M.a)({},a,n))},t.onDataChange=function(e){var a=e.target.name,n=e.target.value;t.setState({data:Object(Y.a)({},t.state.data,Object(M.a)({},a,n))})},t.onCheckedChangeByName=function(e){return function(a){t.setState(Object(M.a)({},e,a.target.checked))}},t.onDataChangeByName=function(e){return function(a){t.onDataChange({target:{name:e,value:a}})}},t.onPassportDateChange=t.onDataChangeByName("passportDate"),t.onPassportDateEndChange=t.onDataChangeByName("passportDateEnd"),t.getParsedDataToBackend=function(e){var a=e.country1,n=e.country2,r=e.country3,s=e.rprogSrok,o=e.email,i=e.rprogramm,c=e.progMaxDays,l=e.dateStart,u=e.dateEnd,p=e.curRate,m=e.fioKir,d=e.fioLat,h=e.iin,g=e.resId,f=e.address,v=e.sex,y=e.dateBirth,E=e.region,b=e.fioKir2,w=e.fioLat2,D=e.iin2,x=e.resId2,C=e.address2,k=e.sex2,S=e.dateBirth2,O=e.region2,P=e.passportNum,N=e.passportGive,j=e.passportDate,M=e.passportDateEnd,F=e.doc_type,I=e.passportNum2,L=e.passportGive2,T=e.passportDate2,R=e.passportDateEnd2,G=e.mobilePhone,_=e.phone,K=e.mobilePhone2,V=e.phone2,z=e.email2,q=e.name,A=e.surname,W=Object(B.a)(e,["country1","country2","country3","rprogSrok","email","rprogramm","progMaxDays","dateStart","dateEnd","curRate","fioKir","fioLat","iin","resId","address","sex","dateBirth","region","fioKir2","fioLat2","iin2","resId2","address2","sex2","dateBirth2","region2","passportNum","passportGive","passportDate","passportDateEnd","doc_type","passportNum2","passportGive2","passportDate2","passportDateEnd2","mobilePhone","phone","mobilePhone2","phone2","email2","name","surname"]);return j=j.format("DD.MM.YYYY"),M=M.format("DD.MM.YYYY"),y=y.format("DD.MM.YYYY"),S=S.format("DD.MM.YYYY"),l=l.format("DD.MM.YYYY"),u=u.format("DD.MM.YYYY"),q=t.state.name,A=t.state.surname,Object(Y.a)({},W,{country1:a,country2:n,country3:r,rprogSrok:s,email:o,rprogramm:i,progMaxDays:c,dateStart:l,dateEnd:u,curRate:p,fioKir:m,fioLat:d,iin:h,resId:g,address:f,sex:v,dateBirth:y,region:E,fioKir2:b,fioLat2:w,iin2:D,resId2:x,address2:C,sex2:k,dateBirth2:S,region2:O,passportNum:P,passportGive:N,passportDate:j,passportDateEnd:M,doc_type:F,passportNum2:I,passportGive2:L,passportDate2:T,passportDateEnd2:R,mobilePhone:G,phone:_,mobilePhone2:K,phone2:V,email2:z,name:q,surname:A})},t.sendRequest=Object(b.a)(E.a.mark(function e(){var a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("sessionId"),n=t.getParsedDataToBackend(t.state.data),e.next=4,$(a,n);case 4:r=e.sent,t.state.data.registrationMessage=r,console.log("reg res : "+t.state.data.registrationMessage);case 7:case"end":return e.stop()}},e)})),t.onFinish=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.a.post("https://pay.ffin.life/auth_token",{iin:t.state.data.iin}).then(function(){var e=Object(b.a)(E.a.mark(function e(a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data.token,t.setState({axiosToken:n}),e.next=4,t.sendRequest();case 4:return console.log("doc _ id "+t.state.data.registrationMessage),e.next=7,he.a.post("https://pay.ffin.life/form-data",{iin:t.state.data.iin,appendix_name:t.state.data.appendix_name,amount:t.props.data.insurancePremium,doc_id:t.state.data.registrationMessage,token:n}).then(function(e){var a=e.data.appendix,n=e.data.signed_order;t.setState({appendix:a,signed:n},Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.props.onFinish(t.state);case 1:case"end":return e.stop()}},e)})))});case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)})),t.state={clientType:"1",isValid:!1,isNotResident:!1,files:[],data:{country1:t.props.data.selectedCountries[0].value,country2:t.props.data.selectedCountries[1]?t.props.data.selectedCountries[1].value:"",country3:t.props.data.selectedCountries[2]?t.props.data.selectedCountries[2].value:"",rprogramm:t.props.data.data.insuranceProgramm,rprogSrok:t.props.data.data.rprogSrok,progMaxDays:t.props.data.data.rprogMaxDays,dateStart:t.props.data.data.beginDate,dateEnd:t.props.data.data.endDate,curRate:t.props.data.data.sumStrah,fioKir:"",fioLat:"",iin:"",resId:1,address:"",sex:"",dateBirth:t.props.data.data.birthDate,region:15188446,fioKir2:"",fioLat2:"",iin2:"",resId2:1,address2:"",sex2:"",dateBirth2:t.props.data.data.birthDate,region2:15188446,passportNum:"",passportGive:"",passportDate:null,passportDateEnd:null,doc_type:13310362,passportNum2:"",passportGive2:"",passportDate2:null,passportDateEnd2:null,mobilePhone:"",phone:"",email:"",mobilePhone2:"",phone2:"",email2:"",appendix_name:"mst",registrationMessage:"",signed:"",appendix:"",axiosToken:""},agreement:!1,agreement2:!1},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.clientType,t=(e.isValid,e.name),s=e.surname,o=e.isNotResident,i=e.agreement,c=e.agreement2,l=e.data,u=l.iin,p=l.address,m=l.sex,d=l.resId,h=l.passportNum,f=l.passportDate,v=l.passportDateEnd,y=l.passportGive,E=l.mobilePhone,b=l.email;this.props.insurancePremium;return console.log("state",this.state),r.a.createElement(F.a,{className:"registration-page"},r.a.createElement("h2",{className:"page-title"},"\u041e\u0444\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0441\u0430"),r.a.createElement(I.a,{container:!0,justify:"space-around",spacing:2},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(_.a,{className:"radiogroup"},r.a.createElement(le.a,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043b\u0438\u0446\u0430:"),r.a.createElement(ue.a,{row:!0,value:a,name:"clientType",onChange:this.onDataChange},r.a.createElement(R.a,{value:"1",control:r.a.createElement(pe.a,{color:"primary"}),label:"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"}),r.a.createElement(R.a,{disabled:!0,value:"2",control:r.a.createElement(pe.a,{color:"primary"}),label:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e"})))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(q.a,{InputProps:{name:"surname"},label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043d\u0430 \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0435",value:s,onChange:this.onFieldChange})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(q.a,{InputProps:{name:"name"},label:"\u0418\u043c\u044f \u043d\u0430 \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0435",value:t,onChange:this.onFieldChange})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(_.a,{className:"radiogroup"},r.a.createElement(le.a,null,"\u041f\u043e\u043b:"),r.a.createElement(ue.a,{row:!0,value:m,name:"sex",onChange:this.onDataChange},r.a.createElement(R.a,{control:r.a.createElement(pe.a,{value:"1",color:"primary"}),label:"\u041c\u0443\u0436"}),r.a.createElement(R.a,{control:r.a.createElement(pe.a,{value:"2",color:"primary"}),label:"\u0416\u0435\u043d"})))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(q.a,{InputProps:{name:"iin"},label:"\u0418\u0418\u041d",value:u,onChange:this.onDataChange})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(q.a,{InputProps:{name:"address"},label:"\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435",value:p,onChange:this.onDataChange})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(R.a,{control:r.a.createElement(me.a,{checked:o,onChange:this.onCheckedChangeByName("isNotResident")}),label:"\u041d\u0435 \u044f\u0432\u043b\u044f\u044e\u0441\u044c \u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u043e\u043c \u0420\u041a"}),o&&r.a.createElement(_.a,{className:"form-control"},r.a.createElement(z.a,{htmlFor:"resident"},"\u0421\u0442\u0440\u0430\u043d\u0430 \u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u0441\u0432\u0430"),r.a.createElement(K.a,{onChange:this.onDataChange,value:d,inputProps:{name:"resId",id:"resident"}},r.a.createElement(V.a,{value:"USA"}," \u0421\u0428\u0410"),r.a.createElement(V.a,{value:"ENG"}," \u0410\u043d\u0433\u043b\u0438\u044f"),r.a.createElement(V.a,{value:"GER"}," \u0413\u0435\u0440\u043c\u0430\u043d\u0438\u044f"),r.a.createElement(V.a,{value:"RU"}," \u0420\u043e\u0441\u0441\u0438\u044f")))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(q.a,{InputProps:{name:"passportNum"},label:"\u041d\u043e\u043c\u0435\u0440 \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430",value:h,onChange:this.onDataChange})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(_.a,{className:"form-control"},r.a.createElement(z.a,{htmlFor:"passport-give"},"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d?"),r.a.createElement(K.a,{onChange:this.onDataChange,value:y,inputProps:{name:"passportGive",id:"passport-give"}},r.a.createElement(V.a,{value:"MU"}," \u041c\u042e \u0420\u041a"),r.a.createElement(V.a,{value:"MVD"}," \u041c\u0412\u0414 \u0420\u041a")))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{disableFuture:!0,openTo:"year",format:"DD.MM.YYYY",views:["year","month","date"],label:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",value:f,onChange:this.onDataChangeByName("passportDate")})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{disablePast:!0,openTo:"year",format:"DD.MM.YYYY",views:["year","month","date"],label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",value:v,onChange:this.onDataChangeByName("passportDateEnd")})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(q.a,{InputProps:{name:"mobilePhone"},label:"\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",value:E,onChange:this.onDataChange})),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(q.a,{InputProps:{name:"email"},label:"E-mail",value:b,onChange:this.onDataChange})),r.a.createElement(I.a,{item:!0},r.a.createElement(q.a,{InputLabelProps:{shrink:!0},label:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043f\u0440\u0435\u043c\u0438\u044f, \u0442\u0435\u043d\u0433\u0435",value:this.props.data.insurancePremium,InputProps:{readOnly:!0}})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(R.a,{control:r.a.createElement(me.a,{checked:i,onChange:this.onCheckedChangeByName("agreement")}),label:r.a.createElement(n.Fragment,null,"\u041e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d \u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 ",r.a.createElement("a",{href:"https://drive.google.com/file/d/1ZeDOAJfVjW4siNQFmMEbmf_u3iGktRZf/view"},"\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f")," \u0438 \u0434\u0430\u044e \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u044f \u043d\u0430 \u0441\u0431\u043e\u0440 \u0438 ",r.a.createElement("a",{href:"#"},"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"))}),r.a.createElement(R.a,{control:r.a.createElement(me.a,{checked:c,onChange:this.onCheckedChangeByName("agreement2")}),label:"\u041d\u0435 \u044f\u0432\u043b\u044f\u044e\u0441\u044c \u0438\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u044b\u043c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u043c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u043d\u044b\u043c \u043b\u0438\u0446\u043e\u043c"})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"contained",color:"default",className:"btn-back",onClick:this.props.onBack},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:this.onFinish},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043e\u043f\u043b\u0430\u0442\u0435"))))}}]),a}(r.a.Component)),fe=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(l.a)(this,Object(u.a)(a).call(this,e))).onFieldChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(M.a)({},a,n),t.validate)},t.validate=function(){var e=!!t.state.paymentType;t.setState({isValid:e})},t.onFinish=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.props.onFinish(t.state);case 1:case"end":return e.stop()}},e)})),t.state={isValid:!1,paymentType:""},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.isValid,t=e.paymentType;return r.a.createElement(F.a,{className:"payment-page"},r.a.createElement("h2",{className:"page-title"},"\u041e\u043f\u043b\u0430\u0442\u0430"),r.a.createElement(_.a,null,r.a.createElement(le.a,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b:"),r.a.createElement(ue.a,{value:t,name:"paymentType",onChange:this.onFieldChange},r.a.createElement(R.a,{value:"1",control:r.a.createElement(pe.a,{color:"primary"}),label:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u043a\u0430\u0440\u0442\u043e\u0439"}),r.a.createElement(R.a,{disabled:!0,value:"2",control:r.a.createElement(pe.a,{color:"primary"}),label:"Kaspi \u043a\u043e\u0448\u0435\u043b\u043e\u043a"}))),r.a.createElement("div",null,r.a.createElement("form",{action:"https://epay.kkb.kz/jsp/process/logon.jsp",method:"post"},r.a.createElement("input",{type:"hidden",name:"email",value:this.props.data.data.email}),r.a.createElement("input",{type:"hidden",name:"BackLink",value:"https://ffin.life/"}),r.a.createElement("input",{type:"hidden",name:"FailureBackLink",value:"https://ffin.life/"}),r.a.createElement("input",{type:"hidden",name:"PostLink",value:"https://pay.ffin.life/post-link"}),r.a.createElement("input",{type:"hidden",name:"FailurePostLink",value:"https://ffin.life/"}),r.a.createElement("input",{type:"hidden",name:"Language",value:"rus"}),r.a.createElement("input",{type:"hidden",name:"appendix",value:this.props.data.appendix}),r.a.createElement("input",{type:"hidden",name:"Signed_Order_B64",value:this.props.data.signed}),r.a.createElement("br",null),r.a.createElement(T.a,{variant:"contained",color:"default",className:"btn-back",onClick:this.props.onBack},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement(T.a,{variant:"contained",color:"primary",type:"submit",onClick:this.onFinish,disabled:!a},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"))))}}]),a}(r.a.Component),ve=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(l.a)(this,Object(u.a)(a).call(this,e))).onCalculatorFinish=function(e){t.setState({calcData:e,step:2})},t.onFizLicoRegFinish=function(e){t.setState({regData:e,step:3})},t.onYurLicoRegFinish=function(e){t.setState({regData:e,step:3})},t.onFizLicoPaymentFinish=function(e){t.setState({})},t.onYurLicoPaymentFinish=function(e){t.setState({})},t.onBackPressed=function(){t.setState({step:t.state.step-1})},t.state={step:1,isFizLico:!0,calcData:{showCountrySelectCount:1,country1:"",country2:"",country3:"",sumStrah:"",insuranceProgramm:1,beginDate:"",endDate:"",birthDate:"",rprogSrok:"",rprogMaxDays:"",email:"",multivisit:!1},regData:{country1:"",country2:"",country3:"",rprogramm:"",rprogSrok:"",progMaxDays:"",dateStart:"",dateEnd:"",curRate:"",fioKir:"",fioLat:"",inn:"",resId:"",address:"",sex:"",dateBirth:"",region:"",fioKir2:"",fioLat2:"",iin2:"",resId2:"",address2:"",sex2:"",dateBirth2:"",region2:"",passportNum:"",passportGive:"",passportDate:"",passportDateEnd:"",doc_type:"",passportNum2:"",passportGive2:"",passportDate2:"",passportDateEnd2:"",mobilePhone:"",phone:"",email:"",mobilePhon:"",phone2:"",email2:"",appendix:"",signed:""},paymentData:{appendix:"",signed:"",email:""}},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.step;e.isFizLico;return n.createElement("div",null,1==a&&n.createElement(ce,{onFinish:this.onCalculatorFinish}),2===a&&n.createElement(ge,{data:this.state.calcData,onFinish:this.onFizLicoRegFinish,onBack:this.onBackPressed}),3===a&&n.createElement(fe,{data:this.state.regData,onFinish:this.onFizLicoPaymentFinish,onBack:this.onBackPressed}))}}]),a}(n.Component);t(366);v.a.locale("ru");var ye=function(e){function a(e){var t;Object(i.a)(this,a),t=Object(l.a)(this,Object(u.a)(a).call(this,e)),k();var n=setInterval(k,25e3);return t.state={interval:n},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(g.b,{utils:m.a,locale:"ru",libInstance:v.a},r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{className:"App-header",position:"static",color:"default"},r.a.createElement(h.a,null,r.a.createElement("h1",null,"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0435 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432"))),r.a.createElement("div",{className:"App-body"},r.a.createElement(ve,null))))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[193,1,2]]]);
//# sourceMappingURL=main.ac70fc92.chunk.js.map